"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[842],{28:(e,t,n)=>{n(1249),n(6977);var o=n(5243),i=n.n(o),a=i().map("map",{preferCanvas:!0});function r(){var e=appBaseUrl+"map/"+a.getBounds().getNorthEast().lat.toFixed(5)+"_"+a.getBounds().getNorthEast().lng.toFixed(5)+"_"+a.getBounds().getSouthWest().lat.toFixed(5)+"_"+a.getBounds().getSouthWest().lng.toFixed(5)+".json",t=new XMLHttpRequest;t.addEventListener("load",(function(){var e=JSON.parse(this.responseText),t={fillOpacity:1,stroke:!1,weight:0,color:"#ff0000",radius:4};i().geoJSON(e,{style:function(e){if(e.properties&&e.properties.type&&"trackpoint"===e.properties.type)return{color:"#0000ff",radius:1,fillOpacity:.4}},pointToLayer:function(e,n){return i().circleMarker(n,t)},onEachFeature:function(e,t){e.properties&&e.properties.popupContent&&t.bindPopup(e.properties.popupContent)}}).addTo(a)})),t.open("GET",e),t.send()}a.on("moveend",r),a.on("zoomend",r);var d=null,l=[-32.054178,115.7475],p=document.getElementById("map").dataset;p&&p.latitude&&p.longitude&&u(l=new(i().LatLng)(p.latitude,p.longitude)),a.setView(l,12);var s=new XMLHttpRequest;function u(e){d=new(i().Marker)(e,{draggable:p.edit,icon:i().icon({iconUrl:"/build/images/map-pin.png",iconRetinaUrl:"/build/images/map-pin-2x.png",iconSize:[20,24],iconAnchor:[10,24]})}),a.addLayer(d),d.on("dragend",(function(e){c(e.target.getLatLng())}))}function c(e){d.setLatLng(e),a.panTo(e),document.getElementById("latitude").value=e.lat.toFixed(5),document.getElementById("longitude").value=e.lng.toFixed(5)}s.addEventListener("load",(function(){var e=JSON.parse(this.responseText),t=i().control.layers().addTo(a);void 0!==e.edit_config&&t.addBaseLayer(i().tileLayer(e.edit_url,e.edit_config),void 0===e.edit_config.label?"edit":e.edit_config.label),t.addBaseLayer(i().tileLayer(e.view_url,e.view_config).addTo(a),void 0===e.view_config.label?"view":e.view_config.label)})),s.open("GET",appBaseUrl+"map-config.json"),s.send(),a.on("click",(function(e){p.edit&&(d||u(e.latlng),c(e.latlng))}))}},e=>{e.O(0,[98,805],(()=>{return t=28,e(e.s=t);var t}));e.O()}]);